const hlz={ajax:async function(e,t=!1){try{const a=await fetch(e+(/\?/.test(e)?"&":"?")+"token="+hlz.token);if(!a.ok)throw new Error(await a.text());const s=a.body.getReader(),r=new TextDecoder;let l=!1,i="";for(;!l;){const{value:e,done:t}=await s.read();l=t,e&&(i+=r.decode(e,{stream:!l}))}if(!i)return!1;const n=JSON.parse(i);(n.config||n.stats||n.trend)&&hlz.global(n),n.server&&hlz.serverStats(n),n.ping&&hlz.ping(n),n.id&&hlz.profile(n),n.load&&hlz.chart(n.load[0],0),n.dawards&&hlz.awards(n),n.map&&hlz.maps(n),n.dl&&hlz.dl(n),n.alert&&alert(n.alert),n.error&&location.reload(),t&&setTimeout((()=>{window.scrollTo({top:t.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}),250)}catch(e){console.log("Error:",e),alert("An error occurred: "+e.message)}},awards:function(e){let t=document.querySelectorAll(".hlz-awards .hlz-card");t[0].innerHTML=e.dawards,t[1].innerHTML=e.daily,t[2].innerHTML=e.ranks,t[3].innerHTML=e.rank30},chart:function(e,t){switch(t){case 0:if(document.querySelector(".lchart").innerHTML)return!1;var a=e.map.length-1,s=e.map[a],r=0;for(x2=e.time[a],fill=["transparent","#B3F7CA"],ii=1,annotation=new Array;a>0&&(e.map[a]!==s&&(r=e.time[a],annotation.push({x:r,x2:x2,borderColor:"#404346",fillColor:fill[ii],opacity:.1,label:{style:{fontSize:"14px",color:"#ddd",background:"#161616"},text:s}}),ii=(ii+1)%2,s=e.map[a],x2=e.time[a]),""!=s);)a--;var l={theme:{mode:"dark",palette:"palette1"},animations:{enabled:!1},series:[{type:"area",name:"Act Players",data:e.act_player},{name:"Max Players",data:e.max_player},{name:"Uptime",data:e.uptime},{name:"fps",data:e.fps}],chart:{toolbar:{show:!0,tools:{customIcons:[{icon:'<img src="styles/css/images/map.png" style="width:20px;margin:0 4px;">',index:4,title:"Show/Hide Maps",click:function(e,t,a){document.querySelector("g.apexcharts-xaxis-annotations").style.display=document.querySelector("g.apexcharts-xaxis-annotations").style.display?"":"none"}}]}},zoom:{enabled:!0,type:"xy",autoScaleYaxis:!0,allowMouseWheelZoom:!0},background:"inherit",height:300,type:"line"},stroke:{width:[1,4,1,1],curve:"smooth"},xaxis:{type:"datetime",categories:e.time,min:e.time[e.time.length-1]-864e5,max:e.time[e.time.length-1]+36e5,labels:{show:!0,hideOverlappingLabels:!0,datetimeUTC:!1,datetimeFormatter:{year:"yyyy",month:"MMM yyyy",day:"MMM dd",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}}},annotations:{xaxis:annotation},yaxis:[{min:0,max:parseInt(e.max_player[e.max_player.length-1]),decimalsInFloat:0,title:{text:"Players"}},{min:0,max:parseInt(e.max_player[e.max_player.length-1]),decimalsInFloat:0,show:!1,opposite:!0},{show:!1,opposite:!0,labels:{formatter:function(e){var t=Math.floor(e/60);return t+"h "+t%60+"mn"}}},{show:!1,opposite:!1}],tooltip:{x:{format:"MMM dd, yyyy HH:mm"}}};new ApexCharts(document.querySelectorAll(".lchart")[0],l).render().then((()=>document.querySelector("g.apexcharts-xaxis-annotations").style.display="none"));break;case 2:var i={theme:{mode:"dark",palette:"palette1"},series:[{type:"area",name:"Skill",data:e.total_skill},{name:"Session",data:e.total_time}],chart:{background:"inherit",zoom:{enabled:!0,type:"xy",autoScaleYaxis:!0,allowMouseWheelZoom:!0},height:350,type:"line"},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{type:"datetime",categories:e.timestamp,labels:{show:!0,hideOverlappingLabels:!0,datetimeUTC:!1,datetimeFormatter:{year:"yyyy",month:"MMM yyyy",day:"MMM dd",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}}},yaxis:[{title:{text:"Skill"}},{labels:{formatter:function(e){return("0"+Math.floor(e/3600)).slice(-2)+":"+("0"+Math.floor(e%3600/60)).slice(-2)+":"+("0"+e%60).slice(-2)}},opposite:!0,type:"datetime",title:{text:"Session"}}],tooltip:{x:{format:"dMMM dd, yyyy HH:mm"}}};new ApexCharts(document.querySelectorAll(".chart")[0],i).render();var n={theme:{mode:"dark"},colors:["#008ffb","#ff4560","#00e396","#775dd0","#ffb01a"],series:[{type:"area",name:"Kills",data:e.total_kills},{type:"area",name:"Death",data:e.total_deaths},{name:"Headshots",data:e.total_hs},{name:"Kill Streak",data:e.total_kill_streak},{name:"Death Streak",data:e.total_death_streak}],chart:{background:"inherit",zoom:{enabled:!0,type:"xy",autoScaleYaxis:!0,allowMouseWheelZoom:!0},height:350,type:"line"},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{type:"datetime",categories:e.timestamp,labels:{show:!0,hideOverlappingLabels:!0,datetimeUTC:!1,datetimeFormatter:{year:"yyyy",month:"MMM yyyy",day:"MMM dd",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}}}};new ApexCharts(document.querySelectorAll(".chart")[1],n).render();break;case 7:var o={theme:{mode:"dark",palette:"palette1"},series:[{name:"Killer",data:e.killer.pos},{name:"Death",data:e.victim.pos_victim},{name:"Victim",data:e.killer.pos_victim},{name:"Killed By",data:e.victim.pos}],chart:{toolbar:{show:!1},background:"inherit",height:450,width:450,zoom:{enabled:!0},type:"scatter"},markers:{shape:["star","star","triangle","triangle"],size:8,fillOpacity:1,strokeColors:"#404346",strokeWidth:[1,1,1,1]},colors:["yellow","orangered","HotPink","Lime"],xaxis:{min:parseInt(e.mm[0]),max:parseInt(e.mm[1]),tickAmount:10},yaxis:{}};new ApexCharts(document.querySelectorAll(".chart")[3],o).render()}},chats:function(e){return{rowCallback:function(e,t){var a=e.querySelector(".hlz-rank").innerHTML;e.querySelector(".hlz-rank").innerHTML=new Date(1e3*a).toLocaleString()},preDrawCallback:function(e){if(e.json){if(hlz.$.draw===e.json.draw)return!1;hlz.$.draw=e.json.draw}},drawCallback:function(e){if(void 0===e.json||null==e.json.data)return!1;hlz.$.draw=e.json.draw+1,document.querySelectorAll("#players tbody td.dt-control").forEach((e=>e.onclick=function(){if(tr=e.closest("tr"),row=hlz.table.row(tr),tr.classList.contains("dt-hasChild"))tr.classList.remove("details","selected"),row.child.hide();else{let e=document.querySelector("#players tr[data-dt-row]");e&&(e.remove(),document.querySelector(".dt-hasChild").className=""),tr.classList.add("details","selected"),id={playerId:tr.getElementsByTagName("td")[1].querySelector("span").getAttribute("data-player"),last_event:hlz.$.now-hlz.$.config.profile},row.child(hlz.pCard).show(),hlz.ajax(hlz.url.profile+"?game="+hlz.$.game+"&player="+JSON.stringify(id)+"&fname="+encodeURIComponent(JSON.stringify(hlz.$.fname)),tr),window.scrollTo({top:tr.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}))},layout:{topStart:{div:{id:"hlz-topstart"}}},pageLength:30,ajax:{url:this.url.chats},columns:[{data:"time",class:"dt-control",orderSequence:["desc","asc"]},{data:"lastName",orderSequence:["desc","asc"]},{data:"message",orderSequence:["desc","asc"]},{data:"server",orderSequence:["desc","asc"]},{data:"map",orderSequence:["desc","asc"]}],deferLoading:0,searchDelay:1500,responsive:{details:!1},order:[[0,"asc"]],processing:!0,serverSide:!0}},clans:function(e){var t={rowCallback:function(e,t){e.setAttribute("data-clan",t.id)},preDrawCallback:function(e){if(e.json){if(hlz.$.draw===e.json.draw)return!1;hlz.$.draw=e.json.draw}},drawCallback:function(e){if(void 0===e.json||null==e.json.data)return!1;hlz.$.draw=e.json.draw+1,document.querySelectorAll("#clans tbody td.dt-control").forEach((e=>e.onclick=function(){if(tr=e.closest("tr"),row=table.row(tr),clan=tr.getAttribute("data-clan"),members=tr.getElementsByTagName("td")[3].innerHTML,tr.classList.contains("dt-hasChild"))hlz.sid=0,tr.classList.remove("details","selected"),row.child.hide();else{let e=document.querySelector("tr[data-dt-row]");e&&(e.remove(),document.querySelector(".dt-hasChild").className=""),tr.classList.add("details","selected"),row.child('<table id="players" class="display compact" style="width:100%;"><thead><tr><th>Rank</th><th>Player</th><th>Points</th><th>Activity</th><th>Connection</th><th>Kills</th><th>Deaths</th><th>Headshots</th><th>K:D</th><th>HS:K</th></tr></thead></table>').show(),hlz.table=new DataTable("#players",hlz.players(1,hlz.url.clanplayers,{game:hlz.$.game,clan:clan,total:members,token:hlz.token}))}}))},layout:{topStart:{div:{id:"hlz-topstart"}}},pageLength:30,ajax:{url:this.url.clans},columns:[{data:"rank_position",class:"dt-control dt-icon",orderSequence:["desc","asc"]},{data:"tag",orderSequence:["desc","asc"]},{data:"name",orderSequence:["desc","asc"]},{data:"members",orderSequence:["desc","asc"]},{data:"clan_skill",orderSequence:["desc","asc"]},{data:"clan_kills",orderSequence:["desc","asc"]},{data:"clan_headshots",orderSequence:["desc","asc"]},{data:"clan_deaths",orderSequence:["desc","asc"]},{data:"kd",orderSequence:["desc","asc"]},{data:"hsk",orderSequence:["desc","asc"]}],searchDelay:1500,responsive:{details:!1},order:[[0,"desc"]],processing:!0,serverSide:!0};return null==e&&(t.deferLoading=0),t},dl:function(e){confirm('Download "'+e.file+'"?')&&(window.location.href=e.dl)},game:function(e){if(void 0!==e){if(e==this.$.game&&"live"!=this.$.page)return!1;if("live"==this.$.page&&this.$.game==e)return document.getElementById("hlz-games").querySelector('img[alt="'+e+'"]').parentElement.classList.remove("hlz-active"),this.$.game="",this.gameStats();document.getElementById("hlz-games").querySelectorAll("img").forEach((e=>{e.parentElement.classList.remove("hlz-active")})),document.getElementById("hlz-games").querySelector('img[alt="'+e+'"]').parentElement.classList.add("hlz-active"),this.$.game=e,setCookie("game",e,365)}this.$.fname=this.$.games.server[this.$.game][0].fname,this.$.total=this.$.games.stats[this.$.game].players,tr=document.getElementById("hlz-profile2"),tr&&(tr.style.display="none",document.getElementById("profile-award").innerHTML="",window.scrollTo(0,0)),"players"==this.$.page&&hlz.table.clear().order([0,"desc"]).search("").ajax.url(this.url.players+"?game="+this.$.game+"&total="+this.$.total+"&token="+this.token).draw(),"clans"==this.$.page&&table.clear().order([0,"desc"]).search("").ajax.url(this.url.clans+"?game="+this.$.game+"&total="+this.$.total+"&token="+this.token).draw(),"chats"==this.$.page&&hlz.table.clear().order([0,"desc"]).search("").ajax.url(this.url.chats+"?game="+this.$.game+"&servers="+encodeURIComponent(JSON.stringify(this.$.games.server[this.$.game]))+"&token="+this.token).draw(),"bans"==this.$.page&&hlz.table.clear().order([0,"desc"]).search("").ajax.url(this.url.players+"?game="+this.$.game+"&total="+this.$.total+"&bans&token="+this.token).draw(),"awards"==this.$.page&&hlz.ajax(hlz.url.awards+"?game="+this.$.game),"maps"==this.$.page&&table.clear().search("").ajax.url(hlz.url.maps+"?game="+this.$.game+"&token="+this.token).draw(),this.gameStats()},gameStats:function(){if("live"==this.$.page){for(var e in hlz.$.games.server)document.querySelectorAll(".leaflet-marker-icon").forEach((e=>{e.classList.contains("server")||(e.classList.contains(this.$.game)||!this.$.game?e.style.opacity="1":e.style.opacity="0.25")}));if(!this.$.game)return void(document.getElementById("hlz-topstart").innerHTML="")}var t=this.$.games.server[this.$.game].length,a=this.$.games.server[this.$.game][0].name,s=this.$.games.stats[this.$.game].players,r=this.$.games.stats[this.$.game].kills,l=this.$.games.stats[this.$.game].headshots,i="",n="";this.$.trend&&this.$.trend[this.$.game]&&(parseInt(this.$.trend[this.$.game].players)&&(i=" (+"+this.$.trend[this.$.game].players+")"),parseInt(this.$.trend[this.$.game].kills)&&(n=" (+"+this.$.trend[this.$.game].kills+")")),document.getElementById("hlz-topstart").innerHTML='<span class="hlz-game">'+a+'</span> Tracking <span class="hlz-players">'+this.num(s)+i+'</span> players with <span class="hlz-kills">'+this.num(r)+n+'</span> kills and <span class="hlz-hs">'+this.num(l)+'</span> headshots (<span class="hlz-percent">'+(r?Math.round(l/r*1e4)/100:0)+'%</span>) on <span class="hlz-server">'+t+"</span> "+(t>1?"servers":"server")},global:function(e){if(!this.$.game&&"live"!=this.$.page){var t=getCookie("game");if(t)this.game(t);else for(var a in this.$.games.server){this.game(a);break}}for(var a in e)if("config"!=a)if("trend"!=a)if("stats"!=a);else{for(var s in e[a][0])this.$[s]=e[a][0]?e[a][0][s]:e[a][s];document.getElementById("hlz-global").innerHTML='Tracking <span class="hlz-players">'+this.num(this.$.players)+'</span> players with <span class="hlz-kills">'+this.num(this.$.kills)+'</span> kills and <span class="hlz-hs">'+this.num(this.$.headshots)+'</span> headshots (<span class="hlz-percent">'+Math.round(this.$.headshots/this.$.kills*1e4)/100+'%</span>) and <span class="hlz-deaths">'+this.num(this.$.deaths)+'</span> deaths (<span class="hlz-percent">'+Math.round(this.$.deaths/this.$.kills*1e4)/100+'%)</span> on <span class="hlz-server">'+this.$.games.stats.server+"</span> "+(this.$.games.stats.server>1?"servers":"server")+"</span>"}else{this.$.trend={};for(var r=0;r<e[a].length;r++)this.$.trend[e[a][r].game]=e[a][r]}else this.$.config=e[a]},maps:function(){return{drawCallback:function(e){let t=document.querySelector('input[type="search"]');if(t&&t.addEventListener("input",(function(e){if(""==t.value.trim())return t.value=t.value.trim(),!1})),void 0===e.json||null==e.json.data)return!1;document.querySelectorAll("#maps .download").forEach((e=>e.onclick=function(){var t=e.querySelector("img").getAttribute("data-map");hlz.ajax(hlz.url.maps+"?download="+t+"&token="+hlz.token)}))},layout:{topStart:{div:{id:"hlz-topstart"}}},pageLength:30,ajax:{url:this.url.maps},columns:[{data:"rank_position",orderSequence:["desc","asc"]},{data:"map",orderSequence:["desc","asc"]},{data:"kills",orderSequence:["desc","asc"]},{data:"headshots",orderSequence:["desc","asc"]},{data:"hsk",orderSequence:["desc","asc"]},{data:"trend",orderSequence:["desc","asc"]},{data:"dl",orderable:!1}],deferLoading:0,searchDelay:1500,order:[[0,"desc"]],responsive:!0,processing:!0,serverSide:!0}},server:function(){document.querySelectorAll("#servers tbody td.dt-control").forEach((e=>e.onclick=function(){if(tr=e.closest("tr"),data=tr.getAttribute("data-server").split("-"),hlz.sid=data[1],game=data[0],row=table.row(tr),hlz.$.fname=tr.getElementsByTagName("td")[1].innerHTML,tr.classList.contains("dt-hasChild"))hlz.sid=0,tr.classList.remove("details","selected"),row.child.hide();else{let e=document.querySelector("tr[data-dt-row]");e&&(e.remove(),document.querySelector(".dt-hasChild").className=""),tr.classList.add("details","selected"),row.child('<div class="hlz-load"><div class="charts"><div class="lchart"></div></div></div><table id="players" class="display compact" style="width:100%;" data-server="'+hlz.sid+'"><thead><tr><th data-priority="1"></th><th data-priority="1">Name</th><th>Played</th><th>Kills</th><th>Headshots</th><th>Hsk</th><th>Deaths</th><th>Kd</th><th>Skill</th><th>Change</th></tr></thead></table><div id="hlz-chat">></div>').show(),hlz.table=new DataTable("#players",{language:{emptyTable:"No Players"},preDrawCallback:function(){hlz.TimerOff()},rowCallback:function(e,t){e.classList.add(t.team,game),/bot\.svg/.test(t.flag)&&e.querySelector("td.dt-control").classList.remove("dt-control")},drawCallback:function(e){return void 0!==e.json&&null!=e.json.data&&(e.json.sid==hlz.sid&&void document.querySelectorAll("#players tbody td.dt-control").forEach((e=>e.onclick=function(){if("BOT"==e.getElementsByTagName("img")[0].alt.toUpperCase())return!1;if(tr=e.closest("tr"),id={playerId:tr.getElementsByTagName("td")[1].querySelector("span").getAttribute("data-player"),last_event:hlz.$.now-hlz.$.config.profile},game=tr.classList[1],row=hlz.table.row(tr),tr.classList.contains("dt-hasChild"))tr.classList.remove("details","selected"),row.child.hide();else{let e=document.querySelector("#server-"+hlz.sid+" tr[data-dt-row]");e&&(e.remove(),document.querySelector("#server-"+hlz.sid+" .dt-hasChild").className=""),tr.classList.add("details","selected"),row.child(hlz.pCard).show(),hlz.ajax(hlz.url.profile+"?game="+game+"&player="+JSON.stringify(id)+"&fname="+encodeURIComponent(JSON.stringify(hlz.$.fname)),tr),window.scrollTo({top:tr.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}})))},initComplete:function(e){hlz.sid>0&&hlz.ajax(hlz.url.load+"?sid="+hlz.sid),hlz.serverStats(e.json),hlz.TimerOn()},responsive:{details:!1},searching:!1,info:!1,paging:!1,ordering:!1,ajax:{url:hlz.url.live,data:{serverId:hlz.sid,teams:JSON.stringify(hlz.$.settings.teams),token:hlz.token}},columns:[{data:"flag",class:"dt-control dt-icon"},{data:"name"},{data:"played"},{data:"kills"},{data:"headshots"},{data:"hsk"},{data:"deaths"},{data:"kd"},{data:"skill"},{data:"change"}],processing:!0,serverSide:!1})}}))},servers:function(e){return{initComplete:function(){for(var e in document.querySelector("#servers").style.display="",hlz.server(),hlz.ajax(hlz.url.live+"?serverId="+hlz.sid+"&teams="+JSON.stringify(hlz.$.settings.teams)),hlz.$.IPs=new Array,hlz.$.SIDs=new Array,hlz.$.games.server)for(var t=0;t<hlz.$.games.server[e].length;t++)hlz.$.IPs.push(hlz.$.games.server[e][t].publicaddress),hlz.$.SIDs.push(hlz.$.games.server[e][t].serverId);hlz.ajax(hlz.url.ping+"?IPs="+JSON.stringify(hlz.$.IPs)+"&SIDs="+JSON.stringify(hlz.$.SIDs))},layout:{topStart:null},columns:[null,null,null,null,null,null,null,null,null,null],responsive:{details:!1},searching:!1,info:!1,paging:!1,ordering:!1,serverside:!1}},serverStats:function(e){if(null!=typeof e.server&&null!=e.server){document.querySelectorAll("tr[data-server]").forEach((t=>{var a=t.getAttribute("data-server").split("-");t.getElementsByTagName("td")[3].innerHTML=e.server[a[1]].map[0],t.getElementsByTagName("td")[4].innerHTML=e.server[a[1]].map[1],t.querySelector(".players").innerHTML=e.server[a[1]].players,t.getElementsByTagName("td")[6].innerHTML=e.server[a[1]].bots})),hlz.sid>0&&hlz.sid==e.sid&&e.data.length&&(hlz.table.clear(),hlz.table.rows.add(e.data),hlz.table.draw());var t=document.getElementById("hlz-chat"),a="";if(t&&hlz.sid>0){for(var s=0;s<e.server[hlz.sid].chat.length;s++)a+='<div><span class="chatter">>'+e.server[hlz.sid].chat[s][0]+"</span> "+e.server[hlz.sid].chat[s][1]+"</div>";a&&(t.style.display="block",t.innerHTML=a)}document.querySelector(".leaflet-shadow-pane").innerHTML="",document.querySelector(".leaflet-marker-pane").innerHTML="",document.querySelector(".leaflet-popup-pane").innerHTML="";const m=L.Icon.extend({options:{shadowUrl:"./styles/css/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]}});var r=new Array;for(let t in hlz.$.games.server){var l=hlz.$.games.server[t];for(s=0;s<l.length;s++){l[s].lat&&(Array.isArray(r[l[s].city])||(r[l[s].city]=new Array),r[l[s].city].push([l[s].lat,l[s].lng,l[s].city,l[s].country,l[s].name,l[s].fname,l[s].act_map,'<a href="steam://connect/'+l[s].address+":"+l[s].port+'">'+l[s].publicaddress+"</a>"]));for(let a in e.server[l[s].serverId].team)for(var i=e.server[l[s].serverId].team[a],n=0;n<i.length;n++)if(i[n].cli_lat){var o=hlz.$.settings.teams[i[n].team][0];if(o>=0&&o<=3)var d=new m({iconUrl:"./styles/css/images/team-"+o+"-marker.png"});else d=new m({iconUrl:"./styles/css/images/team-x-marker.png"});var c='<div><span class="openmap-name">'+i[n].name+"</span>"+(i[n].cli_state?i[n].cli_state+", ":"")+i[n].cli_country+'</div><div><span class="openmap-server">'+l[s].fname.replace(/\\/g,"")+'</span></div><div>Playing: <span class="openmap-game">'+l[s].name+'</span></div><div>Since: <span class="openmap-time">'+new Date(1e3*i[n].connected).toTimeString()+"</span></div>";new L.marker([i[n].cli_lat,i[n].cli_lng],{icon:d}).bindPopup(c).addTo(hlz.map)._icon.classList.add(t)}}}var h=new m({iconUrl:"./styles/css/images/server-marker.png"});for(let e in r){for(c='<div><span class="openmap-city">'+r[e][0][2]+'</span>, <span class="openmap-country">'+r[e][0][3]+"</span></div>",s=0;s<r[e].length;s++)c+='<div><span class="openmap-name">'+r[e][s][4]+'</span></div><div><span class="openmap-server">'+r[e][s][5].replace(/\\/g,"")+'</span></div><div>Map: <span class="openmap-map">'+r[e][s][6]+"</span></div><div>Click to join: "+r[e][s][7]+"</div>";new L.marker([r[e][0][0],r[e][0][1]],{icon:h}).bindPopup(c).addTo(hlz.map)._icon.classList.add("server")}}this.TimerOn()},ping:function(e){document.querySelectorAll("tr[data-server]").forEach((t=>{var a=t.getAttribute("data-server").split("-")[1],s="";hlz.$.status+=1,t.getElementsByTagName("td")[9].querySelector("div").className="status "+e.ping[a],"online"==e.ping[a]&&(s="Online",hlz.$.status-=1),"warning"==e.ping[a]&&(s="Online but did not respond..."),"offline"==e.ping[a]&&(s="Offline"),t.getElementsByTagName("td")[9].querySelector("div").setAttribute("title",s)})),hlz.$.status>0&&(hlz.$.status=0,setTimeout((()=>{hlz.ajax(hlz.url.ping+"?query=1&IPs="+JSON.stringify(hlz.$.IPs)+"&SIDs="+JSON.stringify(hlz.$.SIDs))}),3e5))},players:function(e,t,a){var s={preDrawCallback:function(e){if(e.json){if(hlz.$.draw===e.json.draw)return!1;hlz.$.draw=e.json.draw,hlz.$.player=e.json.player}},drawCallback:function(e){let t=document.querySelector('input[type="search"]');if(t&&t.addEventListener("input",(function(e){if(""==t.value.trim())return t.value=t.value.trim(),!1})),void 0===e.json||null==e.json.data)return!1;hlz.$.draw=e.json.draw+1,Math.floor(e.oAjaxData.start/30)!==hlz.table.page()&&hlz.table.page(Math.floor(e.oAjaxData.start/30)).draw("page"),e.json.search?document.querySelectorAll("#players thead th").forEach((e=>{e.setAttribute("data-dt-order","disable")})):document.querySelectorAll("#players thead th").forEach((e=>{e.removeAttribute("data-dt-order")})),document.querySelectorAll("#players tbody td.dt-control").forEach((e=>e.onclick=function(){if(tr=e.closest("tr"),row=hlz.table.row(tr),tr.classList.contains("dt-hasChild"))tr.classList.remove("details","selected"),row.child.hide();else{let e=document.querySelector("#players tr[data-dt-row]");e&&(e.remove(),document.querySelector(".dt-hasChild").className=""),tr.classList.add("details","selected"),row.child(hlz.pCard).show(),hlz.ajax(hlz.url.profile+"?game="+hlz.$.game+"&player="+encodeURIComponent(JSON.stringify(hlz.$.player[tr.rowIndex-1]))+"&fname="+encodeURIComponent(JSON.stringify(hlz.$.fname)),tr),window.scrollTo({top:tr.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}))},layout:null==e?{topStart:{div:{id:"hlz-topstart"}}}:{topStart:{}},pageLength:30,ajax:{url:t,data:a},columns:[{data:"rank",class:"dt-control dt-icon",orderSequence:["desc","asc"]},{data:"lastName",orderSequence:["desc","asc"]},{data:"skill",orderSequence:["desc","asc"]},{data:"activity",orderSequence:["desc","asc"]},{data:"connection_time",orderSequence:["desc","asc"]},{data:"kills",orderSequence:["desc","asc"]},{data:"deaths",orderSequence:["desc","asc"]},{data:"headshots",orderSequence:["desc","asc"]},{data:"kd",orderSequence:["desc","asc"]},{data:"hsk",orderSequence:["desc","asc"]}],searching:null==e,searchDelay:1500,responsive:{details:!1},order:[[0,"desc"]],processing:!0,serverSide:!0};return null==e&&(s.deferLoading=0),s},num:function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},profile2:function(e){tr=document.getElementById("hlz-profile2"),tr.setAttribute("data-player",e),document.getElementById("profile-award").innerHTML=hlz.pCard,tr.style.display="block",document.querySelector("#hlz-profile2 .close").onclick=function(){tr.style.display="none",document.getElementById("profile-award").innerHTML="",window.scrollTo(0,0)},hlz.ajax(hlz.url.profile+"?game="+hlz.$.game+"&player="+JSON.stringify({playerId:e,last_event:hlz.$.now-hlz.$.config.profile})+"&fname="+encodeURIComponent(JSON.stringify(hlz.$.fname)),tr),window.scrollTo({top:tr.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})},pCard:'<div class="hlz-profile"><div class="hlz-item-1"><div class="hlz-card"></div></div><div class="hlz-item-2"><div class="hlz-card"></div></div><div class="hlz-item-3"><div class="hlz-card"></div></div><div class="hlz-item-4"><div class="hlz-card"></div></div><div class="hlz-item-5"><div class="hlz-card"></div></div><div class="hlz-item-6"><div class="hlz-card"></div></div><div class="hlz-item-7"><div class="hlz-card"></div></div><div class="hlz-item-8"><div class="hlz-card"></div></div><div class="hlz-item-9"><div class="hlz-card"></div></div></div>',profile:function(e){let t=(document.querySelector("#players tr.dt-hasChild td:nth-child(2) span")||document.getElementById("hlz-profile2")).getAttribute("data-player"),a=document.querySelectorAll(".hlz-card");if(e){if(e.id!=t)return!1;for(let t in e.card)a[e.card[t].card].innerHTML=e.card[t].data,2==e.card[t].card&&e.card[t].trend.timestamp.length&&this.chart(e.card[t].trend,2),7==e.card[t].card&&e.card[t].stats.killer.pos&&e.card[t].stats.killer.pos.length&&this.chart(e.card[t].stats,7)}},Timer:null,TimerOff:function(){clearTimeout(hlz.Timer),hlz.Timer=null},TimerOn:function(){null===hlz.Timer&&hlz.$.config.live>0&&(hlz.Timer=setTimeout((()=>{hlz.ajax(hlz.url.live+"?serverId="+hlz.sid+"&teams="+JSON.stringify(hlz.$.settings.teams)),clearTimeout(hlz.Timer),hlz.Timer=null}),1e3*hlz.$.config.live))},toggle:function(){document.querySelector("#hlz-games ul").classList.toggle("visible")},$:{draw:null,status:0},url:{awards:"php/scripts/script.awards.php",chats:"php/scripts/script.chats.php",clanplayers:"php/scripts/script.clanplayers.php",clans:"php/scripts/script.clans.php",counter:"php/scripts/script.counter.php",live:"php/scripts/script.live.php",global:"php/scripts/script.global.php",load:"php/scripts/script.load.php",maps:"php/scripts/script.maps.php",ping:"php/scripts/script.ping.php",players:"php/scripts/script.players.php",profile:"php/scripts/script.profile.php"},token:document.querySelector('meta[name="token"]').getAttribute("content")};function setCookie(e,t,a){const s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3);let r="expires="+s.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function getCookie(e){let t=e+"=",a=document.cookie.split(";");for(let e=0;e<a.length;e++){let s=a[e];for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}document.addEventListener("mousedown",(function(e){return"HTML"===e.target.tagName||"UL"===e.target.tagName?(e.preventDefault(),!1):!e.detail||1==e.detail||(e.preventDefault(),!1)}));